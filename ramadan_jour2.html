<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jour 2 - Le croissant de lune üåô</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Quicksand:wght@400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #f5e6d3 0%, #e8d5c4 50%, #f5e6d3 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(135deg, #ffffff 0%, #faf8f5 100%);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(139, 149, 132, 0.2);
            border: 3px solid #8b9584;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .day-badge {
            display: inline-block;
            background: linear-gradient(135deg, #8b9584, #a4b29b);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(139, 149, 132, 0.3);
        }

        h1 {
            color: #5a6b4f;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-family: 'Amiri', serif;
        }

        .moon-icon {
            font-size: 3rem;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% {
                transform: scale(1);
                filter: drop-shadow(0 0 10px rgba(139, 149, 132, 0.5));
            }
            50% {
                transform: scale(1.1);
                filter: drop-shadow(0 0 20px rgba(139, 149, 132, 0.8));
            }
        }

        .logo {
            position: absolute;
            top: 0;
            left: 0;
            width: 120px;
            height: auto;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .logo:hover {
            opacity: 1;
        }

        .intro-text {
            background: linear-gradient(135deg, #f5e6d3, #e8d5c4);
            padding: 25px;
            border-radius: 20px;
            border-left: 5px solid #8b9584;
            margin: 30px 0;
            font-size: 1.1rem;
            line-height: 1.8;
            color: #4a5442;
        }

        .story-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #d4c4b0;
            transition: all 0.3s ease;
        }

        .story-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(139, 149, 132, 0.2);
            border-color: #8b9584;
        }

        .story-card h3 {
            color: #5a6b4f;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .story-card p {
            color: #666;
            line-height: 1.7;
            font-size: 1.05rem;
        }

        .quiz-section {
            background: linear-gradient(135deg, #8b9584, #a4b29b);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            color: white;
        }

        .quiz-section h3 {
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 25px;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: #4a5442;
        }

        .question-text {
            font-weight: 600;
            font-size: 1.15rem;
            margin-bottom: 20px;
            color: #5a6b4f;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .option {
            background: linear-gradient(135deg, #f5e6d3, #e8d5c4);
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-weight: 500;
        }

        .option:hover {
            background: linear-gradient(135deg, #e8d5c4, #d4c4b0);
            transform: translateX(5px);
        }

        .option.selected {
            background: linear-gradient(135deg, #8b9584, #a4b29b);
            color: white;
            border-color: #5a6b4f;
            transform: scale(1.02);
        }

        .option.correct {
            background: linear-gradient(135deg, #7fb069, #8fbc77);
            color: white;
            border-color: #5a8049;
            animation: correctPulse 0.5s ease;
        }

        .option.incorrect {
            background: linear-gradient(135deg, #d4916c, #c47d5a);
            color: white;
            border-color: #a4614a;
            animation: shake 0.5s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .btn {
            background: linear-gradient(135deg, #8b9584, #a4b29b);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 25px auto;
            box-shadow: 0 5px 20px rgba(139, 149, 132, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 149, 132, 0.4);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-align: center;
            max-width: 400px;
            width: 90%;
            transition: transform 0.3s ease;
        }

        .result-modal.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .result-modal h3 {
            color: #5a6b4f;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: bounce-in 0.6s ease;
        }

        @keyframes bounce-in {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        .result-message {
            color: #666;
            font-size: 1.1rem;
            margin: 20px 0;
            line-height: 1.6;
        }

        .score-display {
            background: linear-gradient(135deg, #f5e6d3, #e8d5c4);
            padding: 15px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 600;
            color: #5a6b4f;
            margin: 20px 0;
        }

        .fun-facts {
            background: linear-gradient(135deg, #f5e6d3, #e8d5c4);
            padding: 25px;
            border-radius: 20px;
            margin: 30px 0;
            border: 2px dashed #8b9584;
        }

        .fun-facts h3 {
            color: #5a6b4f;
            margin-bottom: 15px;
            text-align: center;
        }

        .fun-facts ul {
            list-style: none;
            padding: 0;
        }

        .fun-facts li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: #4a5442;
            line-height: 1.6;
        }

        .fun-facts li:before {
            content: "‚≠ê";
            position: absolute;
            left: 0;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }

        .overlay.show {
            display: block;
        }

        /* Canvas Drawing Section */
        .drawing-section {
            background: linear-gradient(135deg, #f5e6d3, #e8d5c4);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .drawing-section h3 {
            color: #5a6b4f;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .drawing-section > p {
            color: #4a5442;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .canvas-container {
            background: white;
            border-radius: 15px;
            padding: 10px;
            display: inline-block;
            box-shadow: 0 5px 20px rgba(139, 149, 132, 0.2);
            margin-bottom: 20px;
        }

        #drawingCanvas {
            border: 2px solid #8b9584;
            border-radius: 10px;
            cursor: crosshair;
            display: block;
            max-width: 100%;
            height: auto;
        }

        .drawing-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            align-items: center;
        }

        .color-picker, .brush-size {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .color-picker span, .brush-size span {
            color: #5a6b4f;
            font-weight: 600;
        }

        .color-btn {
            width: 35px;
            height: 35px;
            border: 3px solid #8b9584;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .color-btn.active {
            border-width: 4px;
            transform: scale(1.2);
        }

        .size-btn {
            background: white;
            border: 2px solid #8b9584;
            padding: 8px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            color: #5a6b4f;
            transition: all 0.3s ease;
        }

        .size-btn:hover, .size-btn.active {
            background: linear-gradient(135deg, #8b9584, #a4b29b);
            color: white;
        }

        .btn-clear {
            background: linear-gradient(135deg, #d4916c, #c47d5a);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-clear:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 145, 108, 0.4);
        }

        @media (max-width: 768px) {
            .logo {
                width: 80px;
                top: 5px;
                left: 5px;
            }

            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            .intro-text {
                font-size: 1rem;
            }

            .drawing-controls {
                flex-direction: column;
            }

            #drawingCanvas {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="logonoir_lespetitesplumes.png" alt="Les petites plumes" class="logo">
            <div class="day-badge">Jour 2 / 30</div>
            <div class="moon-icon">üåô</div>
            <h1>Le croissant de lune</h1>
            <p style="color: #8b9584; font-size: 1.1rem;">Observer et dessiner le croissant !</p>
        </div>

        <div class="intro-text">
            <p style="font-weight: 600; margin-bottom: 10px;">üåü Levons les yeux vers le ciel !</p>
            <p>Aujourd'hui, nous allons d√©couvrir le magnifique <strong>croissant de lune</strong> ! Cette petite lune en forme de sourire dans le ciel est tr√®s importante pour les musulmans. C'est elle qui nous dit quand le Ramadan commence et quand il se termine ! üåô‚ú®</p>
        </div>

        <div class="story-section">
            <div class="story-card">
                <h3>üåô Qu'est-ce que le croissant de lune ?</h3>
                <p>Le croissant de lune est la premi√®re forme visible de la lune apr√®s la nouvelle lune. On le voit comme un fin sourire lumineux dans le ciel ! La lune ne produit pas sa propre lumi√®re : c'est le soleil qui l'√©claire. Quand nous voyons juste un petit bout √©clair√©, c'est le <strong>croissant</strong>. C'est beau et magique √† observer ! üåü</p>
            </div>

            <div class="story-card">
                <h3>üëÄ Comment observer la lune ?</h3>
                <p>Pour observer le croissant de lune, regarde le ciel juste apr√®s le <strong>coucher du soleil</strong>, vers l'ouest (l√† o√π le soleil se couche). Le meilleur moment est environ 20 √† 30 minutes apr√®s le coucher du soleil. Si le ciel est d√©gag√© et sans nuages, tu pourras voir le magnifique croissant briller doucement ! 
            </div>

            <div class="story-card">
                <h3>üìÖ Le calendrier lunaire</h3>
                <p>Les musulmans utilisent un <strong>calendrier lunaire</strong> bas√© sur la lune, pas sur le soleil ! Chaque mois commence quand on voit le nouveau croissant. C'est pour √ßa que les dates du Ramadan changent chaque ann√©e sur le calendrier solaire. Un mois lunaire dure environ 29 ou 30 jours. üóìÔ∏è</p>
            </div>

            <div class="story-card">
                <h3>‚≠ê L'importance en Islam</h3>
                <p>Le croissant de lune est tr√®s important en Islam ! Il marque le d√©but du Ramadan, de l'E√Ød al-Fitr, et de tous les mois islamiques. Tu peux r√©p√©ter cette doua √† l'occasion de la nouvelle lune: <em>"All√¢hou Akbar, All√¢houmma Ahillahou 'alayna bil-amni wal-Imani, was-Sal√¢mati wal Isl√¢mi,wat-Tawfiqi lim√¢ Touhibbou wa Tard√¢. Rabboun√¢ wa Rabboukall√¢h"</em> Allah est le Plus Grand ! √î Seigneur, apporte-nous avec cette nouvelle lune la s√©curit√© et la foi, le salut et l'islam, ainsi que la r√©ussite dans tout ce que Tu aimes et que Tu agr√©es. Notre Seigneur et Ton Seigneur est Allah.  ü§≤</p> C'est un moment de joie et de spiritualit√© ! üí´</p>
            </div>
        </div>

        <div class="fun-facts">
            <h3>‚ú® Le savais-tu ?</h3>
            <ul>
                <li>La lune fait le tour de la Terre en environ <strong>29,5 jours</strong> - c'est un mois lunaire !</li>
                <li>Le Proph√®te Mohammad (paix et b√©n√©dictions sur lui) enseignait √† ses compagnons √† observer le croissant avec attention</li>
                <li>Il y a une pri√®re sp√©ciale √† dire quand on voit le croissant de lune pour la premi√®re fois</li>
                <li>Le calendrier islamique compte <strong>12 mois lunaires</strong>, tout comme le calendrier solaire, mais les mois sont plus courts !</li>
            </ul>
        </div>

        <div class="drawing-section">
            <h3>üé® √Ä toi de dessiner le croissant !</h3>
            <p>Utilise ton imagination pour dessiner le beau croissant de lune dans le ciel nocturne !</p>

            <div class="canvas-container">
                <canvas id="drawingCanvas" width="600" height="400"></canvas>
            </div>

            <div class="drawing-controls">
                <div class="color-picker">
                    <span>Couleur : </span>
                    <button class="color-btn" data-color="#ffd700"></button>
                    <button class="color-btn" data-color="#ffffff"></button>
                    <button class="color-btn" data-color="#8b9584"></button>
                    <button class="color-btn" data-color="#f5e6d3"></button>
                    <button class="color-btn" data-color="#ffeb3b"></button>
                </div>
                <div class="brush-size">
                    <span>Taille : </span>
                    <button class="size-btn" data-size="2">Fin</button>
                    <button class="size-btn" data-size="5">Moyen</button>
                    <button class="size-btn" data-size="10">Gros</button>
                </div>
                <button class="btn-clear" onclick="clearCanvas()">üóëÔ∏è Effacer</button>
            </div>
        </div>

        <div class="quiz-section">
            <h3>üéÆ Quiz : As-tu bien compris ?</h3>

            <div class="question-card">
                <div class="question-text">1. Quand est le meilleur moment pour observer le croissant de lune ?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false, 0)">En pleine journ√©e</div>
                    <div class="option" onclick="selectAnswer(this, true, 0)">Juste apr√®s le coucher du soleil, vers l'ouest</div>
                    <div class="option" onclick="selectAnswer(this, false, 0)">Au milieu de la nuit</div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-text">2. Qu'est-ce que le croissant de lune marque pour les musulmans ?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false, 1)">L'heure de la pri√®re du matin</div>
                    <div class="option" onclick="selectAnswer(this, true, 1)">Le d√©but d'un nouveau mois islamique, comme le Ramadan</div>
                    <div class="option" onclick="selectAnswer(this, false, 1)">La fin de l'ann√©e</div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-text">3. Combien de jours dure un mois lunaire ?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false, 2)">Exactement 30 jours</div>
                    <div class="option" onclick="selectAnswer(this, true, 2)">Environ 29 ou 30 jours</div>
                    <div class="option" onclick="selectAnswer(this, false, 2)">31 jours</div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-text">4. Pourquoi voyons-nous le croissant de lune ?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false, 3)">Parce que la lune brille toute seule</div>
                    <div class="option" onclick="selectAnswer(this, true, 3)">Parce que le soleil √©claire une petite partie de la lune</div>
                    <div class="option" onclick="selectAnswer(this, false, 3)">Parce que la lune est tr√®s petite</div>
                </div>
            </div>

            <div class="question-card">
                <div class="question-text">5. Que doit-on faire quand on voit le nouveau croissant ?</div>
                <div class="options">
                    <div class="option" onclick="selectAnswer(this, false, 4)">Rien de sp√©cial</div>
                    <div class="option" onclick="selectAnswer(this, true, 4)">Dire une doua sp√©ciale</div>
                    <div class="option" onclick="selectAnswer(this, false, 4)">Fermer les yeux</div>
                </div>
            </div>

            <button class="btn" id="submitBtn" onclick="checkAnswers()" disabled>V√©rifier mes r√©ponses</button>
        </div>

        <div style="text-align: center; margin-top: 40px;">
            <p style="color: #8b9584; font-size: 1.1rem;">
                <strong>Bravo d'avoir termin√© le Jour 2 ! üåü</strong><br>
                N'oublie pas de regarder le ciel ce soir pour observer le croissant !<br>
                Rendez-vous demain pour le Jour 3 !
            </p>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="result-modal" id="resultModal">
        <div class="result-icon" id="resultIcon">üéâ</div>
        <h3 id="resultTitle">Excellent !</h3>
        <div class="score-display" id="scoreDisplay">Score : 5/5</div>
        <div class="result-message" id="resultMessage">
            Masha Allah ! Tu as tout compris sur le croissant de lune !
        </div>
        <button class="btn" onclick="closeModal()">Continuer</button>
    </div>

    <script>
        // Quiz functionality
        let answers = [null, null, null, null, null];
        let selectedCount = 0;

        function selectAnswer(element, isCorrect, questionIndex) {
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            if (answers[questionIndex] === null) selectedCount++;
            answers[questionIndex] = isCorrect;
            if (selectedCount === 5) document.getElementById('submitBtn').disabled = false;
        }

        function checkAnswers() {
            let score = 0;
            const allOptions = document.querySelectorAll('.option.selected');
            allOptions.forEach((option, index) => {
                if (answers[index]) { option.classList.add('correct'); score++; }
                else option.classList.add('incorrect');
            });
            document.getElementById('submitBtn').disabled = true;
            setTimeout(() => showResults(score), 1000);
        }

        function showResults(score) {
            const modal = document.getElementById('resultModal');
            const overlay = document.getElementById('overlay');
            document.getElementById('scoreDisplay').textContent = 'Score : ' + score + '/5';
            if (score === 5) {
                document.getElementById('resultIcon').textContent = 'üéâ';
                document.getElementById('resultTitle').textContent = 'Masha Allah ! Parfait !';
                document.getElementById('resultMessage').textContent = 'Tu as tout compris sur le croissant de lune ! Tu es un champion ! Continue comme √ßa ! üåü';
            } else if (score >= 3) {
                document.getElementById('resultIcon').textContent = 'üòä';
                document.getElementById('resultTitle').textContent = 'Tr√®s bien !';
                document.getElementById('resultMessage').textContent = 'Tu as bien compris le croissant de lune ! Avec un peu plus d\'attention, tu auras tout juste la prochaine fois ! üí™';
            } else {
                document.getElementById('resultIcon').textContent = 'üìö';
                document.getElementById('resultTitle').textContent = 'Continue tes efforts !';
                document.getElementById('resultMessage').textContent = 'Relis bien la le√ßon sur le croissant de lune et tu vas mieux comprendre. N\'abandonne jamais ! üåà';
            }
            overlay.classList.add('show');
            modal.classList.add('show');
        }

        function closeModal() {
            document.getElementById('resultModal').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        // Canvas Drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');

        let isDrawing = false;
        let currentColor = '#ffd700';
        let currentSize = 5;

        // Set canvas background to night sky
        ctx.fillStyle = '#1a1a2e';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Color picker setup
        document.querySelectorAll('.color-btn').forEach((btn, index) => {
            const color = btn.getAttribute('data-color');
            btn.style.backgroundColor = color;
            if (index === 0) btn.classList.add('active');

            btn.addEventListener('click', () => {
                currentColor = color;
                document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // Brush size setup
        document.querySelectorAll('.size-btn').forEach((btn, index) => {
            if (index === 1) btn.classList.add('active');

            btn.addEventListener('click', () => {
                currentSize = parseInt(btn.getAttribute('data-size'));
                document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // Get position from mouse or touch event
        function getPosition(e) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;

            if (e.touches) {
                return {
                    x: (e.touches[0].clientX - rect.left) * scaleX,
                    y: (e.touches[0].clientY - rect.top) * scaleY
                };
            }
            return {
                x: (e.clientX - rect.left) * scaleX,
                y: (e.clientY - rect.top) * scaleY
            };
        }

        // Draw on canvas
        function draw(e) {
            if (!isDrawing) return;

            const pos = getPosition(e);
            ctx.lineCap = 'round';
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = currentSize;

            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        }

        // Mouse events
        canvas.addEventListener('mousedown', (e) => {
            isDrawing = true;
            const pos = getPosition(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        });

        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', () => { isDrawing = false; });
        canvas.addEventListener('mouseout', () => { isDrawing = false; });

        // Touch events
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            isDrawing = true;
            const pos = getPosition(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            draw(e);
        });

        canvas.addEventListener('touchend', () => { isDrawing = false; });

        // Clear canvas
        function clearCanvas() {
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
    </script>
</body>
</html>
